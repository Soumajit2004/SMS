{% include "header.html" %}

<div class="container">
    <form method="post" {% if edit_data %}
          action={{ "/students/" ~ edit_data[0] ~ "/edit" }} {% else %} action="/students/new" {% endif %}>
        {{ form.hidden_tag() }}
        {{ form.csrf_token() }}
        {% if error %}
            <div class="alert alert-danger" role="alert">
                {{ error }}
            </div>
        {% endif %}
        {% if edit_data %}
            <div class="form-row">
                <div class="col">
                    <label for="name">Name</label>
                    <input id="name" value="{{ edit_data[1] }}" name="name"
                           type="text"
                           class="form-control">
                </div>
            </div>
            <div class="form-row">
                <div class="col-12 col-lg-6">
                    <label for="father_name">Father's Name</label>
                    <input id="father_name" name="father_name" type="text" class="form-control"
                           value="{{ edit_data[3] }}">
                </div>
                <div class="col-12 col-lg-6">
                    <label for="father_mobile_no">Father's Phone Number</label>
                    <div class="input-group mb-2">
                        <div class="input-group-prepend">
                            <div class="input-group-text">+91</div>
                        </div>
                        <input name="father_mobile_no" id="father_mobile_no" type="number" class="form-control"
                               value="{{ edit_data[-3] }}">
                    </div>
                </div>
            </div>
            <div class="form-row">
                <div class="col-12 col-lg-6">
                    <label for="mother_name">Mother's Name</label>
                    <input id="mother_name" name="mother_name" type="text" class="form-control"
                           value="{{ edit_data[4] }}">
                </div>
                <div class="col-12 col-lg-6">
                    <label for="mother_mobile_no">Mother's Phone Number</label>
                    <div class="input-group mb-2">
                        <div class="input-group-prepend">
                            <div class="input-group-text">+91</div>
                        </div>
                        <input id="mother_mobile_no" name="mother_mobile_no" type="number" class="form-control"
                               value="{{ edit_data[-2] }}">
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="address">Address</label>
                <input type="text" class="form-control" id="address" name="address" value="{{ edit_data[-4] }}">
            </div>
            <input id="grade" name="grade" type="hidden" value="1">
            <input id="roll_no" name="roll_no" type="hidden" value="1">
            <button type="submit" name="submit" class="btn btn-primary mt-3">Update Student</button>
        {% else %}
            <div class="form-row">
                <div class="col">
                    <label for="name">Name</label>
                    <input id="name" name="name" type="text" class="form-control">
                </div>
            </div>
            <div class="form-row">
                <div class="col-12 col-lg-6">
                    <label for="father_name">Father's Name</label>
                    <input id="father_name" name="father_name" type="text" class="form-control">
                </div>
                <div class="col-12 col-lg-6">
                    <label for="father_mobile_no">Father's Phone Number</label>
                    <div class="input-group mb-2">
                        <div class="input-group-prepend">
                            <div class="input-group-text">+91</div>
                        </div>
                        <input name="father_mobile_no" id="father_mobile_no" type="number" class="form-control">
                    </div>
                </div>
            </div>
            <div class="form-row">
                <div class="col-12 col-lg-6">
                    <label for="mother_name">Mother's Name</label>
                    <input id="mother_name" name="mother_name" type="text" class="form-control">
                </div>
                <div class="col-12 col-lg-6">
                    <label for="mother_mobile_no">Mother's Phone Number</label>
                    <div class="input-group mb-2">
                        <div class="input-group-prepend">
                            <div class="input-group-text">+91</div>
                        </div>
                        <input id="mother_mobile_no" name="mother_mobile_no" type="number" class="form-control">
                    </div>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-6">
                    <label for="grade">Class</label>
                    <select id="grade" name="grade" class="form-control">
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                        <option>6</option>
                        <option>7</option>
                        <option>8</option>
                        <option>9</option>
                        <option>10</option>
                        <option>11</option>
                        <option>12</option>
                    </select>
                </div>
                <div class="form- col-6">
                    <label for="roll_no">Roll No</label>
                    <input id="roll_no" name="roll_no" type="number" class="form-control">
                </div>
            </div>
            <div class="form-group">
                <label for="address">Address</label>
                <input type="text" class="form-control" id="address" name="address">
            </div>
            <button type="submit" name="submit" class="btn btn-primary mt-3">Register Student</button>
        {% endif %}
    </form>
</div>

{% include "footer.html" %}